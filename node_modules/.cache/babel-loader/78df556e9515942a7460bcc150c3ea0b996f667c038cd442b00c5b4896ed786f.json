{"ast":null,"code":"// src/redux/documentsSlice.js\nimport{createSlice}from\"@reduxjs/toolkit\";const initialState={documents:[],sharedDocuments:[],currentDocument:null};const documentsSlice=createSlice({name:\"documents\",initialState,reducers:{setDocuments:(state,action)=>{state.documents=action.payload;},setSharedDocuments:(state,action)=>{state.sharedDocuments=action.payload;},updateDocumentName:(state,action)=>{const{fileId,newName}=action.payload;const document=state.documents.find(doc=>doc.fileId===fileId);if(document){document.fileName=newName;}},deleteDocument:(state,action)=>{state.documents=state.documents.filter(doc=>doc.fileId!==action.payload);},setCurrentDocument:(state,action)=>{state.currentDocument=action.payload;},updateSharedUsers:(state,action)=>{const{fileId,sharedUsers}=action.payload;const document=state.documents.find(doc=>doc.fileId===fileId);if(document){document.sharedUsers=sharedUsers;}},updateDocumentContent:(state,action)=>{const{fileId,newContent}=action.payload;const document=state.documents.find(doc=>doc.fileId===fileId)||state.sharedDocuments.find(doc=>doc.fileId===fileId);if(document){document.content=newContent;}if(state.currentDocument&&state.currentDocument.fileId===fileId){state.currentDocument.content=newContent;}},addDocument:(state,action)=>{state.documents.push(action.payload);}}});export const{setDocuments,setSharedDocuments,updateDocumentName,deleteDocument,setCurrentDocument,updateSharedUsers,updateDocumentContent,addDocument}=documentsSlice.actions;export default documentsSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","documents","sharedDocuments","currentDocument","documentsSlice","name","reducers","setDocuments","state","action","payload","setSharedDocuments","updateDocumentName","fileId","newName","document","find","doc","fileName","deleteDocument","filter","setCurrentDocument","updateSharedUsers","sharedUsers","updateDocumentContent","newContent","content","addDocument","push","actions","reducer"],"sources":["/workspaces/frontend/src/redux/documentsSlice.js"],"sourcesContent":["// src/redux/documentsSlice.js\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  documents: [],\r\n  sharedDocuments: [],\r\n  currentDocument: null,\r\n};\r\n\r\nconst documentsSlice = createSlice({\r\n  name: \"documents\",\r\n  initialState,\r\n  reducers: {\r\n    setDocuments: (state, action) => {\r\n      state.documents = action.payload;\r\n    },\r\n    setSharedDocuments: (state, action) => {\r\n      state.sharedDocuments = action.payload;\r\n    },\r\n    updateDocumentName: (state, action) => {\r\n      const { fileId, newName } = action.payload;\r\n      const document = state.documents.find((doc) => doc.fileId === fileId);\r\n      if (document) {\r\n        document.fileName = newName;\r\n      }\r\n    },\r\n    deleteDocument: (state, action) => {\r\n      state.documents = state.documents.filter(\r\n        (doc) => doc.fileId !== action.payload\r\n      );\r\n    },\r\n    setCurrentDocument: (state, action) => {\r\n      state.currentDocument = action.payload;\r\n    },\r\n    updateSharedUsers: (state, action) => {\r\n      const { fileId, sharedUsers } = action.payload;\r\n      const document = state.documents.find((doc) => doc.fileId === fileId);\r\n      if (document) {\r\n        document.sharedUsers = sharedUsers;\r\n      }\r\n    },\r\n    updateDocumentContent: (state, action) => {\r\n      const { fileId, newContent } = action.payload;\r\n      const document =\r\n        state.documents.find((doc) => doc.fileId === fileId) ||\r\n        state.sharedDocuments.find((doc) => doc.fileId === fileId);\r\n      if (document) {\r\n        document.content = newContent;\r\n      }\r\n      if (state.currentDocument && state.currentDocument.fileId === fileId) {\r\n        state.currentDocument.content = newContent;\r\n      }\r\n    },\r\n    addDocument: (state, action) => {\r\n      state.documents.push(action.payload);\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setDocuments,\r\n  setSharedDocuments,\r\n  updateDocumentName,\r\n  deleteDocument,\r\n  setCurrentDocument,\r\n  updateSharedUsers,\r\n  updateDocumentContent,\r\n  addDocument,\r\n} = documentsSlice.actions;\r\nexport default documentsSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}