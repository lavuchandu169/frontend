{"ast":null,"code":"import React,{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{updateDocumentName}from\"../redux/documentsSlice\";import\"./Popup.css\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const RenamePopup=_ref=>{let{fileId,fileName,onClose}=_ref;const currentUser=useSelector(state=>state.login.loginUser);const[newName,setNewName]=useState(fileName);const dispatch=useDispatch();const handleRename=()=>{fetch(\"https://backend-7ksj.onrender.com/renameDocument\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({userId:currentUser,fileId:fileId,newFileName:newName})}).then(res=>{if(res.status===200){res.json().then(res=>{dispatch(updateDocumentName({fileId,newName}));});}else{res.json().then(res=>{alert(res.message);});}onClose();}).catch(err=>{alert(\"Failed to rename document due to : \\n\"+err.message);});};return/*#__PURE__*/_jsx(\"div\",{className:\"popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-inner\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Rename Document\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newName,className:\"border-2 rounded-md\",onChange:e=>setNewName(e.target.value)}),newName.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:\"File name not be Empty\"}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-500 text-white\",onClick:handleRename,children:\"Rename\"}),/*#__PURE__*/_jsx(\"button\",{className:\"border-2 rounded-sm border-black\",onClick:onClose,children:\"Cancel\"})]})});};export default RenamePopup;","map":{"version":3,"names":["React","useState","useDispatch","useSelector","updateDocumentName","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","RenamePopup","_ref","fileId","fileName","onClose","currentUser","state","login","loginUser","newName","setNewName","dispatch","handleRename","fetch","method","headers","body","JSON","stringify","userId","newFileName","then","res","status","json","alert","message","catch","err","className","children","type","value","onChange","e","target","length","onClick"],"sources":["/workspaces/frontend/src/components/RenamePopup.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { updateDocumentName } from \"../redux/documentsSlice\";\r\nimport \"./Popup.css\";\r\n\r\nconst RenamePopup = ({ fileId, fileName, onClose }) => {\r\n  const currentUser = useSelector((state) => state.login.loginUser);\r\n  const [newName, setNewName] = useState(fileName);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleRename = () => {\r\n    fetch(\"https://backend-7ksj.onrender.com/renameDocument\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        userId: currentUser,\r\n        fileId: fileId,\r\n        newFileName: newName,\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          res.json().then((res) => {\r\n            dispatch(updateDocumentName({ fileId, newName }));\r\n          });\r\n        } else {\r\n          res.json().then((res) => {\r\n            alert(res.message);\r\n          });\r\n        }\r\n        onClose();\r\n      })\r\n      .catch((err) => {\r\n        alert(\"Failed to rename document due to : \\n\" + err.message);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"popup\">\r\n      <div className=\"popup-inner\">\r\n        <h2>Rename Document</h2>\r\n        <input\r\n          type=\"text\"\r\n          value={newName}\r\n          className=\"border-2 rounded-md\"\r\n          onChange={(e) => setNewName(e.target.value)}\r\n        />\r\n        {newName.length === 0 ? (\r\n          <p className=\"error\">File name not be Empty</p>\r\n        ) : (\r\n          <></>\r\n        )}\r\n        <button className=\"bg-green-500 text-white\" onClick={handleRename}>\r\n          Rename\r\n        </button>\r\n        <button className=\"border-2 rounded-sm border-black\" onClick={onClose}>\r\n          Cancel\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RenamePopup;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,kBAAkB,KAAQ,yBAAyB,CAC5D,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErB,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAmC,IAAlC,CAAEC,MAAM,CAAEC,QAAQ,CAAEC,OAAQ,CAAC,CAAAH,IAAA,CAChD,KAAM,CAAAI,WAAW,CAAGb,WAAW,CAAEc,KAAK,EAAKA,KAAK,CAACC,KAAK,CAACC,SAAS,CAAC,CACjE,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGpB,QAAQ,CAACa,QAAQ,CAAC,CAChD,KAAM,CAAAQ,QAAQ,CAAGpB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAqB,YAAY,CAAGA,CAAA,GAAM,CACzBC,KAAK,CAAC,kDAAkD,CAAE,CACxDC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,MAAM,CAAEd,WAAW,CACnBH,MAAM,CAAEA,MAAM,CACdkB,WAAW,CAAEX,OACf,CAAC,CACH,CAAC,CAAC,CACCY,IAAI,CAAEC,GAAG,EAAK,CACb,GAAIA,GAAG,CAACC,MAAM,GAAK,GAAG,CAAE,CACtBD,GAAG,CAACE,IAAI,CAAC,CAAC,CAACH,IAAI,CAAEC,GAAG,EAAK,CACvBX,QAAQ,CAAClB,kBAAkB,CAAC,CAAES,MAAM,CAAEO,OAAQ,CAAC,CAAC,CAAC,CACnD,CAAC,CAAC,CACJ,CAAC,IAAM,CACLa,GAAG,CAACE,IAAI,CAAC,CAAC,CAACH,IAAI,CAAEC,GAAG,EAAK,CACvBG,KAAK,CAACH,GAAG,CAACI,OAAO,CAAC,CACpB,CAAC,CAAC,CACJ,CACAtB,OAAO,CAAC,CAAC,CACX,CAAC,CAAC,CACDuB,KAAK,CAAEC,GAAG,EAAK,CACdH,KAAK,CAAC,uCAAuC,CAAGG,GAAG,CAACF,OAAO,CAAC,CAC9D,CAAC,CAAC,CACN,CAAC,CAED,mBACE/B,IAAA,QAAKkC,SAAS,CAAC,OAAO,CAAAC,QAAA,cACpB/B,KAAA,QAAK8B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BnC,IAAA,OAAAmC,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBnC,IAAA,UACEoC,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEvB,OAAQ,CACfoB,SAAS,CAAC,qBAAqB,CAC/BI,QAAQ,CAAGC,CAAC,EAAKxB,UAAU,CAACwB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC7C,CAAC,CACDvB,OAAO,CAAC2B,MAAM,GAAK,CAAC,cACnBzC,IAAA,MAAGkC,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,wBAAsB,CAAG,CAAC,cAE/CnC,IAAA,CAAAE,SAAA,GAAI,CACL,cACDF,IAAA,WAAQkC,SAAS,CAAC,yBAAyB,CAACQ,OAAO,CAAEzB,YAAa,CAAAkB,QAAA,CAAC,QAEnE,CAAQ,CAAC,cACTnC,IAAA,WAAQkC,SAAS,CAAC,kCAAkC,CAACQ,OAAO,CAAEjC,OAAQ,CAAA0B,QAAA,CAAC,QAEvE,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}